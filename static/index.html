<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Super App | Humoyun Bo'riyev</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>

    <nav>
        <div class="logo" onclick="goHome()">[HUMOYUN].Dev</div>
        <div class="nav-links">
            <button class="nav-btn" onclick="openAbout()"><i class="fas fa-user-astronaut"></i> Biz haqimizda</button>
            <button class="theme-toggle" onclick="toggleTheme()"><i class="fas fa-sun" id="theme-icon"></i></button>
        </div>
    </nav>

    <div id="home-view">
        <section class="hero-container">
            <h1 class="hero-title" id="typewriter"><span class="cursor">|</span></h1>
            <p class="hero-subtitle">
                Sun'iy intellekt, zamonaviy dizayn va kuchli algoritmlar birlashgan makon.
                <br>Xush kelibsiz, men Humoyun Bo'riyev.
            </p>
            <a href="#tools" class="cta-button" onclick="document.querySelector('.tools-grid').scrollIntoView({behavior: 'smooth'})">
                Boshlash <i class="fas fa-arrow-right" style="margin-left: 10px;"></i>
            </a>
        </section>

        <section class="tools-grid" id="tools">
             <div class="tool-card" onclick="openTool('utilities')">
                <div class="tool-icon"><i class="fas fa-qrcode"></i></div>
                <h3>QR Generator</h3>
                <p>Linklarni zamonaviy va rangli QR kodlarga aylantiring.</p>
            </div>
            <div class="tool-card" onclick="openTool('ai-tools')">
                <div class="tool-icon"><i class="fas fa-robot"></i></div>
                <h3>AI Markazi</h3>
                <p>Gemini 2.0 bilan suhbatlashing va yordam oling.</p>
            </div>
            <div class="tool-card" onclick="openTool('design')">
                <div class="tool-icon"><i class="fas fa-layer-group"></i></div>
                <h3>Dizayn Studiya</h3>
                <p>Rasmlar formatini bir zumda PDF yoki PNG ga o'giring.</p>
            </div>
             <div class="tool-card" onclick="openTool('typing-game')">
                <div class="tool-icon"><i class="fas fa-gamepad"></i></div>
                <h3>Cosmic Defender</h3>
                <p>So'zlarni portlatib, galaktikani himoya qiling!</p>
            </div>
        </section>
    </div>

    <div id="utilities" class="workspace">
        <div class="back-btn" onclick="goHome()"><i class="fas fa-arrow-left"></i> Asosiyga qaytish</div>
        <div class="app-card">
            <h2>QR Kod Generator</h2>
            <br>
            <input type="text" id="qr-text" placeholder="Link yoki matn yozing...">
            <button class="btn-action" onclick="generateQR()">Yaratish</button>
            <div id="qr-results-area" style="display: none; gap: 20px; margin-top: 30px; justify-content: center; flex-wrap: wrap;">
                <div style="text-align: center;">
                    <p style="margin-bottom: 10px;">Oddiy</p>
                    <img id="img-simple" style="width: 150px; border-radius: 10px;">
                    <a id="btn-simple" class="back-btn" style="display: block; margin-top: 10px; text-align: center;">Yuklab olish</a>
                </div>
                <div style="text-align: center;">
                    <p style="margin-bottom: 10px; color: var(--accent);">Zamonaviy</p>
                    <img id="img-modern" style="width: 150px; border-radius: 10px;">
                    <a id="btn-modern" class="back-btn" style="display: block; margin-top: 10px; text-align: center;">Yuklab olish</a>
                </div>
            </div>
        </div>
    </div>

   <div id="ai-tools" class="workspace">
        <div class="back-btn" onclick="goHome()"><i class="fas fa-arrow-left"></i> Asosiyga qaytish</div>
        <div class="app-card" style="height: 75vh; display: flex; flex-direction: column;">
            <h2>AI Yordamchi (Gemini Vision)</h2>
            <div id="chat-box" style="flex: 1; overflow-y: auto; padding: 20px; border: 1px solid rgba(255,255,255,0.1); border-radius: 10px; margin: 20px 0;">
                <div style="text-align: center; color: var(--text-muted); margin-top: 50px;">
                    <i class="fas fa-eye" style="font-size: 40px; margin-bottom: 15px;"></i>
                    <p>Rasm yuklang yoki savol bering!</p>
                </div>
            </div>
            <div style="display: flex; gap: 10px; align-items: center; background: var(--bg-color); padding: 10px; border-radius: 15px; border: 1px solid var(--text-muted);">
                <input type="file" id="vision-file" accept="image/*" style="display: none;" onchange="showPreview()">
                <button onclick="document.getElementById('vision-file').click()" style="background: none; border: none; color: var(--text-muted); cursor: pointer; font-size: 20px; padding: 0 10px;"><i class="fas fa-paperclip"></i></button>
                <div id="image-preview" style="display: none; width: 40px; height: 40px; border-radius: 5px; overflow: hidden; border: 1px solid var(--accent);"><img id="preview-img" style="width: 100%; height: 100%; object-fit: cover;"></div>
                <input type="text" id="ai-prompt" placeholder="Savol bering..." style="flex: 1; border: none; background: transparent; padding: 0; margin: 0; color: var(--text-main); outline: none;">
                <button onclick="askAI()" class="btn-action" style="width: 50px; padding: 10px; border-radius: 10px; margin-bottom: 0;"><i class="fas fa-paper-plane"></i></button>
            </div>
        </div>
    </div>

    <div id="design" class="workspace">
        <div class="back-btn" onclick="goHome()"><i class="fas fa-arrow-left"></i> Asosiyga qaytish</div>
        <div class="app-card">
            <h2>Universal Rasm Konverter</h2>
            <p style="color: var(--text-muted); margin-bottom: 20px;">Rasmlarni PDF, PNG, JPG formatga o'tkazing.</p>
            <input type="file" id="file-upload" accept="image/*" style="padding: 10px;">
            <select id="convert-format">
                <option value="pdf">PDF (Hujjat)</option>
                <option value="png">PNG (Sifatli)</option>
                <option value="jpeg">JPG (Yengil)</option>
                <option value="webp">WEBP (Web saytlar uchun)</option>
            </select>
            <button onclick="convertImage()" class="btn-action">Aylantirish</button>
            <div id="convert-result" style="display: none; margin-top: 20px; text-align: center;">
                <p style="color: #4ade80; margin-bottom: 10px;">Muvaffaqiyat!</p>
                <a id="download-link" class="btn-action" style="display: inline-block; background: #10b981; width: auto; padding: 10px 30px;">Yuklab olish</a>
            </div>
        </div>
    </div>

    <div id="typing-game" class="workspace">
        <div class="back-btn" onclick="stopGameAndGoHome()"><i class="fas fa-arrow-left"></i> O'yinni to'xtatish</div>
        <div class="app-card" style="padding: 0; overflow: hidden; position: relative; height: 80vh; border: 2px solid var(--accent); background: radial-gradient(circle at bottom, #1e293b 0%, #0f172a 100%);">
            <div style="position: absolute; top: 20px; left: 20px; z-index: 10; font-family: 'Courier New', monospace; font-weight: bold;">
                <p style="color: #4ade80; font-size: 20px; text-shadow: 0 0 10px #4ade80;">SCORE: <span id="score">0</span></p>
                <p style="color: #f472b6; font-size: 16px;">LEVEL: <span id="level">1</span></p>
            </div>
            <div style="position: absolute; top: 20px; right: 20px; z-index: 10; color: #ef4444; font-size: 24px;" id="lives-display"></div>
            <div id="start-screen" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(15, 23, 42, 0.9); display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 20;">
                <h1 style="font-size: 60px; color: var(--accent); margin-bottom: 10px; text-shadow: 0 0 20px var(--accent);">COSMIC DEFENDER</h1>
                <p style="color: var(--text-muted); margin-bottom: 30px; font-size: 18px;">So'zlarni yozib, ularni yerga tushishidan oldin portlating!</p>
                <button onclick="startGame()" class="btn-action" style="width: auto; padding: 15px 50px; font-size: 20px; border-radius: 50px; box-shadow: 0 0 20px var(--accent);"><i class="fas fa-play"></i> BOSHLASH</button>
            </div>
            <div id="game-over-screen" style="display: none; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(15, 23, 42, 0.95); flex-direction: column; align-items: center; justify-content: center; z-index: 30;">
                <h1 style="font-size: 50px; color: #ef4444; margin-bottom: 10px;">GAME OVER</h1>
                <p style="font-size: 24px; color: white;">Natija: <span id="final-score">0</span></p>
                <p style="color: var(--text-muted); margin-bottom: 30px;">Yana bir bor urinib ko'rasizmi?</p>
                <button onclick="startGame()" class="btn-action" style="width: auto; padding: 10px 40px;">Qayta o'ynash</button>
            </div>
            <canvas id="gameCanvas" style="display: block; width: 100%; height: 100%;"></canvas>
            
            <div id="mobile-controls" style="display: none;">
                <button id="btn-left" class="control-btn">‚¨ÖÔ∏è</button>
                <button id="btn-fire" class="control-btn fire-btn">üî´ Otish</button>
                <button id="btn-right" class="control-btn">‚û°Ô∏è</button>
            </div>

            <audio id="laser-sound" src="/static/click.mp3"></audio>
        </div>
    </div>

    <div id="about-modal" class="modal-overlay">
        <div class="modal-content">
            <span class="close-modal" onclick="closeAbout()">&times;</span>
            <div style="width: 100px; height: 100px; background: var(--gradient); border-radius: 50%; margin: 0 auto 20px; display: flex; align-items: center; justify-content: center; font-size: 40px; color: white;"><i class="fas fa-user"></i></div>
            <h2>Humoyun Bo'riyev</h2>
            <p style="color: var(--accent); margin-bottom: 20px;">Full Stack Developer</p>
            <p style="color: var(--text-muted); line-height: 1.6; text-align: left; margin-bottom: 30px;">SAMDU UF "Axborot tizimlari va texnologiyalari" 4-kurs talabasi. Ushbu loyiha Python, FastAPI va zamonaviy Web texnologiyalarini o'rganish maqsadida yaratildi.</p>
            <a href="https://t.me/humoyun_19" target="_blank" class="btn-action" style="text-decoration: none; display: inline-block;"><i class="fab fa-telegram"></i> @humoyun_19</a>
        </div>
    </div>

    <script src="/static/script.js"></script>
 
    <footer style="text-align: center; padding: 40px 20px; color: var(--text-muted); font-size: 0.9rem; margin-top: auto;">
        <p>&copy; 2026 Humoyun Bo'riyev. Barcha huquqlar himoyalangan.</p>
        <div style="margin-top: 10px; display: flex; justify-content: center; gap: 20px; font-size: 20px;">
            <a href="#" style="color: var(--text-muted); transition: 0.3s;"><i class="fab fa-github"></i></a>
            <a href="#" style="color: var(--text-muted); transition: 0.3s;"><i class="fab fa-linkedin"></i></a>
            <a href="#" style="color: var(--text-muted); transition: 0.3s;"><i class="fab fa-instagram"></i></a>
        </div>
    </footer>
<style>
  .robot-container {
    position: fixed;      /* Ekranda qotib turadi */
    bottom: -130px;       /* Pastdan joylashuv */
    right: -130px;        /* O'ngdan joylashuv */
    width: 450px;         /* Kattaligi */
    height: 450px;
    z-index: 9999;        /* Eng ustida turishi uchun */
    pointer-events: none; /* Saytni bosishga xalaqit bermaydi */
    background: transparent;
  }

  /* Mobil telefonda kichikroq bo'lishi uchun */
  @media (max-width: 768px) {
    .robot-container {
      width: 250px;
      height: 250px;
      bottom: -60px;
      right: -60px;
    }
  }
</style>

<div class="robot-container">
  <spline-viewer url="https://prod.spline.design/nufy3fxtLO8mB-s4/scene.splinecode"></spline-viewer>
</div>

<script type="module" src="https://unpkg.com/@splinetool/viewer@1.0.55/build/spline-viewer.js"></script>
</body>
</html>